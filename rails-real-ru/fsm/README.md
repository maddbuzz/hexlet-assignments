# Конечные автоматы

## Ссылки

* [aasm](https://github.com/aasm/aasm)
* [Rails Routing](https://guides.rubyonrails.org/routing.html#adding-more-restful-actions)

## Задачи

Добавьте в CRUD конечный автомат для вакансий. У модели может быть 3 состояния

* `on_moderate` — начальное состояние. Созданная вакансия находится на модерации и может быть опубликована или отправлена в архив
* `published` — вакансия опубликована и может быть отправлена в архив
* `archived` — в архиве

Используются два события

* `publish` — публикация вакансии
* `archive` — архивация вакансии

Изменение состояния вакансии осуществляется с помощью действий в списке вакансий.

### Gemfile

Подключите гем aasm

```ruby
gem 'aasm'
```

### db/migrate/20210803123012_create_vacancies.rb

Добавьте в миграцию колонку для работы конечного автомата и накатите миграции.

### config/routes.rb

Добавьте роуты *publish* и *archive* для изменения вакансии.

### app/controllers/vacancies_controller.rb

Добавьте обработчики для методов.

### app/views/vacancies/index.html.slim

Добавьте ссылки на экшены для каждой вакансии.
