# Jobs

## Ссылки

* [Active Job Basics](https://guides.rubyonrails.org/active_job_basics.html)

## Задачи

Выполните загрузку информации о репозитории с помощью асинхронной джобы.

### app/models/repository.rb

Опишите конечный автомат для модели Репозиторий:

* `created` — начальное состояние добавленного репозитория
* `fetching` — при переходе в это состояние начинается загрузка данных о репозитории
* `fetched` — переход в это состояние происходит при успешной загрузке информации о репозитории
* `failed` — переход в состояние выполняется, при запросе информации произошла какая-либо ошибка

### app/jobs/repository_loader_job.rb

Создайте и реализуйте задачу `RepositoryLoaderJob`, которая обновляет информацию о репозитории с GitHub.

### app/controllers/web/repositories_controller.rb

Реализуйте следующие методы:

* `create()` — создание репозитория. Новый репозиторий добавляется по ссылке, например `https://github.com/hexlet-basics/hexlet-basics`. Загрузка информации о репозитории выполняется с помощью джобы `RepositoryLoaderJob`
* `update()` — с помощью задачи `RepositoryLoaderJob` выполняется загрузка свежей информации о репозитории
* `update_repos()` — обновление всех репозиториев. Для каждого репозитория ставится задача в очередь на выполнение
