# Rack

Rack обеспечивает минимальный интерфейс между веб-серверами, поддерживающими Ruby и Ruby-фреймворки. Практически все веб-фреймворке в мире Ruby обеспечивают интерфейс Rack. При написании веб-приложений не всегда требуется использовать Ruby On Rails. Иногда требуется что-то намного проще, легче или даже быстрее.

Rack также поддерживает создание промежуточного слоя (middleware). По сути, они перехватывают запрос, что-то с ним делают и передают дальше. Это полезно для разноплановых задач, таких как логирование, аутентификация.

В этом задании создадим миддлвары для небольшого веб-приложения.

## Ссылки

* [Middleware](https://en.wikipedia.org/wiki/Middleware)
* [Rack](https://github.com/rack/rack)
* [Response Body](https://github.com/rack/rack/blob/main/SPEC.rdoc#label-The+Body)
* [Digest::SHA2](https://ruby-doc.org/stdlib-2.4.0/libdoc/digest/rdoc/Digest/SHA2.html)

## Задачи

Реализуйте миддлвары для приложения.

### lib/app/router.rb

Реализуйте класс Router, который содержит обработчики для 2 маршрутов: `/`, `/about`. При выполнении запросов по данным путям, возвращается строка и успешный код ответа. Для всех прочих маршрутов возвращается 404 код ответа и текст.

### lib/app/admin_policy.rb

Реализуйте метод миддлвара. Который возвращает *403* статус ответа для всех запросов, путь которых начинается с */admin*. Возвращать тело ответа при этом не нужно.

### lib/app/signature.rb

Реализуйте метод миддлвара который добавляет в тело ответа хеш, зашифрованным по алгоритму семейства *SHA-256*

```bash
curl http://localhost:3000
# Hello, World!
# dffd6021bb2bd5b0af676290809ec3a53191dd81c7f70a4b28688a362182986f
```

## Дополнительное задание

### lib/app/execution_timer.rb

Реализуйте и подключите на страницу миддлвар, который выводит информацию о затраченном времени выполнения сайта в микросекундах. При этом хеш контента не должен измениться.
